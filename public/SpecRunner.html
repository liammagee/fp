<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Jasmine Spec Runner v2.3.4</title>

  <link rel="shortcut icon" type="image/png" href="js/jasmine/lib/jasmine-2.3.4/jasmine_favicon.png">
  <link rel="stylesheet" href="js/jasmine/lib/jasmine-2.3.4/jasmine.css">

  <script src="js/jasmine/lib/jasmine-2.3.4/jasmine.js"></script>
  <script src="js/jasmine/lib/jasmine-2.3.4/jasmine-html.js"></script>
  <script src="js/jasmine/lib/jasmine-2.3.4/boot.js"></script>

  <!-- include source files here... -->
  <script src="js/require.js"></script>
  <script>
  requirejs.config({
      baseUrl: 'js',
      // paths: maps ids with paths (no extension)
      paths: {
          'jasmine': ['jasmine/lib/jasmine-2.3.4/jasmine'],
          'jasmine-html': ['jasmine/lib/jasmine-2.3.4/jasmine-html'],
          'jasmine-boot': ['jasmine/lib/jasmine-2.3.4/boot'],
          'spec-helper': ['jasmine/spec/SpecHelper'],
          'specs': ['jasmine/spec/AgentSpec']
      },
      shim: {
          "underscore": { exports: "_" },
          "dat.gui": { exports: "dat.gui" },
          "smoothie": { exports: "SmoothieChart" },
          "stats.min": { exports: "Stats" },
          "jstat.min": { exports: "jStat" },
          "three": { exports: "THREE" },
          "Mirror": ["three"],
          "WaterShader": ["three"],
          "TerrainLoader": { deps: ["three"], exports: "TerrainLoader" },
          "TrackballControls": {  deps: ["three"], exports: "TrackballControls" },
          "OrbitControls": {  deps: ["three"], exports: "OrbitControls" },
          "PointerLockControls": {  deps: ["three"], exports: "PointerLockControls" },
          'jasmine-html': { deps : ['jasmine'] },
          'jasmine-boot': { deps : ['jasmine', 'jasmine-html'] }
      }
  })
  requirejs([
          "fp",
          "dat.gui",
          "smoothie",
          "stats.min",
          "jstat.min",
          "javascript.util",
          "jsts",
          "Mirror",
          "WaterShader",
          "TerrainLoader",
          "THREEx.KeyboardState",
          "TrackballControls",
          "PointerLockControls",
          "jasmine-boot"          
      ],
      function() {
          requirejs(["spec-helper", "specs"], function() {
            window.onload();
          })
          var config = {
            "preset": "Default",
            "remembered": {
              "Default": {
                  // Agent options
                  "1": {
                      "initialPopulation": 1000,
                      "initialExtent": 30,
                      // "maxExtent": 100,
                      // "initialX": 50,
                      // "initialY": 50,
                      // "randomAge": true,
                      // "chanceToJoinNetwork": 0.05,
                      // "chanceToFindPathToHome": 1.00,
                      // "initialCircle": true,
                      // "noWater": true,
                      // "noUphill": false,
                      // "useStickman": true,
                      // "visitHomeBuilding": 0.02,
                      // "visitOtherBuilding": 0.002,
                      "establishLinks": true,
                      // "size": 40,
                      // "terrainOffset": 20,
                      "shuffle": true
                   },
                  // Building options
                  "2": {
                      "roads": 0.0,
                      "water": 0.0,
                      "otherBuildings": 0.1,
                      "distanceFromOtherBuildingsMin": 4000,
                      "distanceFromOtherBuildingsMax": 4500,
                      "buildingHeight": 0.0,
                      "detectBuildingCollisions": true,

                      // "create": true,

                      // "maxNumber": 250,

                      // // Carry over from generation
                      // "heightA": 2,
                      // "heightB": 10,

                      // // Influences
                      // "roads": 0.0,
                      // "water": 0.4,
                      // "otherBuildings": 0.9,
                      // "buildingHeight": 0.1,

                      // // Building form
                      // "buildingForm": "rectangle",
                      // "spread": 10,
                      // "randomForm": false,
                      // "rotateRandomly": false,
                      // "rotateSetAngle": 0,

                      // "destroyOnComplete": false,
                      // "loopCreateDestroy": false,

                      // // Visualisation
                      // "turning": false,
                      // "falling": false,
                      // "riseRate": 10,

                      // // Dimensions
                      // "minHeight": 10,
                      // "maxHeight": 70,
                      // "minWidth": 40,
                      // "maxWidth": 200,
                      // "minLength": 40,
                      // "maxLength": 200,
                      // "maxLevels": 0,
                      // "width": 0,
                      // "length": 0,
                      // "levelHeight": 40,

                      // // View parameters
                      // "useShader": true,
                      // "useLevelOfDetail": true,
                      // "highResDistance": 1000,
                      // "lowResDistance": 7500,
                      // "opacity": 1.0,

                      // // Fill parameters
                      // "showFill": true,
                      // "fillRooves": false,

                      // // Stroke parameters
                      // "showLines": true,
                      // "linewidth": 1.0,

                      // // Window parameters
                      // "showWindows": true,
                      // "windowsRandomise": false,
                      // "windowWidth": 15,
                      // "windowPercent": 60,
                      // "windowsStartY": 40,
                      // "windowsEndY": 80,
                      // "windowsLine": true,
                      // "windowsFill": false,

                      // // Stagger
                      // "stagger": true,
                      // "staggerAmount": 40,

                      // // Taper
                      // "taper": true,
                      // "taperExponent": 2,
                      // "taperDistribution": 1,

                      // // Collision detection
                      // "detectBuildingCollisions": true,
                      // "detectRoadCollisions": true

                  },
                  // Road options
                  "3": {
                      "create": false

                      // "maxNumber": 200,  // Maximum number of roads - for performance reasons
                      // "roadWidth": 20,
                      // "roadDeviation": 20,
                      // "roadRadiusSegments": 10,
                      // "roadSegments": 10,
                      // "initialRadius": 100,
                      // "probability": 1,
                      // "lenMinimum": 100,
                      // "lenMaximum": 2000,
                      // "lenDistributionFactor": 3,
                      // "overlapThreshold": 3,
                      // "flattenAdjustment": 0.025,
                      // "flattenLift": 20
                  },
                  // Display options
                  "4": {
                      // "buildingsShow": true,
                      // "roadsShow": true,
                      "waterShow": false,
                      // "networkShow": false,
                      // "networkCurve": true,
                      // "networkCurvePoints": 20,
                      // "patchesShow": false,
                      // "patchesUpdate": true,
                      // "patchesUseShader": true,
                      // "trailsShow": false,
                      // "trailsShowAsLines": false,
                      // "trailLength": 10000,
                      // "cursorShow": false,
                      // "cursorShowCell": true,
                      // "statsShow": true,
                      // "hudShow": true,
                      // "wireframeShow": false,
                      // "dayShow": false,
                      // "skyboxShow": true,
                      // "chartShow": true,
                      // "guiShow": true,
                      // "guiShowControls": true,
                      // "guiShowAgentFolder": true,
                      // "guiShowBuildingsFolder": true,
                      // "guiShowRoadsFolder": true,
                      // "guiShowTerrainFolder": true,
                      // "guiShowDisplayFolder": true,
                      // "guiShowColorFolder": true,
                      // "pathsShow": true,
                      // "terrainShow": true,
                      // "coloriseAgentsByHealth": false,
                      // "firstPersonView": false,
                      "cameraOverride": true,
                      "cameraX": 0,
                      "cameraY": 1000,
                      "cameraZ": 1000,
                      // "maximiseView": true,
                  },
                  // Color options
                  "5": {
                      // "colorDayBackground": 0x000000,
                      // "colorDayRoad": 0x474747,
                      // "colorDayAgent": 0x4747b3,
                      // "colorDayNetwork": 0x474747,
                      // "colorDayTrail": 0x474747,
                      // "colorDayBuildingFill": 0xb1abab,
                      // "colorDayBuildingLine": 0x222222,
                      // "colorDayBuildingWindow": 0x222222,
                      // "colorDayTerrainSea": 0x969696,
                      // "colorDayTerrainLowland1": 0x2d5828,
                      // "colorDayTerrainLowland2": 0x6d915b,
                      // "colorDayTerrainMidland": 0x89450e,
                      // "colorDayTerrainHighland": 0x8c8c8c,

                      // "colorNightBackground": 0x636363,
                      "colorNightRoad": 32 * 256 * 256 + 32 * 256 + 32,
                      // "colorNightAgent": 0x47b347,
                      // "colorNightNetwork": 0x47b347,
                      // "colorNightTrail": 0x47b347,
                      // "colorNightBuildingFill": 0x838383,
                      // "colorNightBuildingLine": 0x838383,
                      // "colorNightBuildingWindow": 0xffff8f,
                      // "colorNightTerrainSea": 0x000000,
                      // "colorNightTerrainLowland1": 0x000000,
                      // "colorNightTerrainLowland2": 0x181818,
                      // "colorNightTerrainMidland": 0x282828,
                      // "colorNightTerrainHighland": 0x4c4c4c,
                      // "colorGraphPopulation": 0x4747b3,
                      // "colorGraphHealth": 0xb34747,
                      // "colorGraphPatchValues": 0x47b347,

                  },
                  // Terrain options
                  "6": {
                      // "renderAsSphere": true,
                      // "loadHeights": true,
                      // "gridExtent": 8000,
                      // "gridPoints": 400,
                      // "maxTerrainHeight": 400,
                      // "shaderUse": true,
                      "multiplier": 2,
                      // "mapIndex": 0,
                      // "patchSize": 4

                   },
              }
            }
          }
          var sim =  {
              counter: 0,

              setup: function() {
                  fp.timescale.framesToYear = 1;
              },
              tick: function() {
              }
          }

          fp.init( config, sim, function() {
              fp.appConfig.Setup();
          } );
      }
  );

  </script>


  <style>
  #container {
    display: none;
  }
  </style>
</head>

<body>
    <div id="container"></div>
</body>
</html>
